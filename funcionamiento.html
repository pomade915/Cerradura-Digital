<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Funcionamiento</title>
    <link rel="stylesheet" href="style.css"> <!-- Enlace al archivo de estilos CSS -->
    <link rel="stylesheet" href="responsive.css">
	<!-- Fuente estilo Minecraft -->
    <link href="https://fonts.cdnfonts.com/css/minecraft-4" rel="stylesheet">

    <style>
      .titulo-efecto {
        font-family: 'Minecraft', sans-serif !important;
        text-transform: uppercase;
        color: #000000 !important; /* Negro */
        font-size: clamp(3rem, 6vw, 5rem); 
        display: inline-block;
        transform: scale(1.2);
        animation: glowMove 3s infinite alternate ease-in-out;
      }

      @keyframes glowMove {
        0% {
          text-shadow: 
            2px 2px 6px #8000ff,
            0 0 12px #b266ff,
            0 0 20px #cc66ff;
        }
        50% {
          text-shadow: 
            -2px -2px 8px #8000ff,
            0 0 20px #b266ff,
            0 0 30px #cc66ff;
        }
        100% {
          text-shadow: 
            2px -2px 10px #8000ff,
            0 0 25px #b266ff,
            0 0 40px #cc66ff;
        }
      }

      /* 游댠 Estilo igual al men칰 de interacci칩n anterior */
      .inicio-efecto {
        font-family: 'Minecraft', sans-serif !important;
        text-transform: uppercase;
        color: #fff; /* Blanco como en el men칰 */
        font-size: 1rem; 
        text-decoration: none;
        transition: 0.3s ease-in-out;
        text-shadow: 
          0 0 5px #a64dff,
          0 0 10px #a64dff,
          0 0 20px #a64dff;
      }

      .inicio-efecto:hover {
        color: #e0b3ff;
        text-shadow: 
          0 0 10px #a64dff,
          0 0 20px #a64dff,
          0 0 30px #cc66ff;
      }

      /* ===== Estilos tipo "libro" ===== */
      .bloque {
        padding: 18px 0;
      }

      .bloque .columna-libro {
        max-width: 1100px;
        margin: 0 auto;
        padding: 0 22px;
        box-sizing: border-box;
      }

      .columna-libro p {
        text-align: justify;
        line-height: 1.7;
        margin: 0 0 18px 0;
        text-indent: 1.2em;
        color: #2e1b3a;
        font-size: 1.05rem;
      }

      /* nuevo: grid de burbujas */
      .bubbles-grid {
        display: grid;
        grid-template-columns: repeat(3, 1fr);
        gap: 20px;
        margin-top: 18px;
      }

      /* estilo de cada burbuja */
      .bubble {
        background-color: #fff8dc;
        border: 3px solid rgba(178,102,255,0.95);
        border-radius: 14px;
        padding: 18px;
        box-shadow: 0 10px 30px rgba(0,0,0,0.12);
        color: #2e1b3a;

        /* importante: alinear el contenido a la izquierda para evitar que el texto quede centrado */
        text-align: left;
      }

      /* mantener los t칤tulos de las burbujas centrados pero dejar el contenido a la izquierda */
      .bubble h3 {
        font-family: 'Minecraft', sans-serif !important;
        text-transform: uppercase;
        color: #000000;
        margin: 0 0 12px 0;
        font-size: clamp(1.05rem, 1.8vw, 1.25rem);
        /* mantengo un glow m치s sutil para que coincida con el resto */
        text-shadow:
          0 0 12px rgba(166,77,255,0.28),
          0 0 22px rgba(178,102,255,0.18);

        /* centrar solo el encabezado */
        text-align: center;
      }

      /* Aplicar el efecto violeta del titulo principal a los h3 pero a escala reducida.
         Esto reutiliza la animaci칩n/text-shadow de .titulo-efecto sin cambiar tama침o del h3. */
      .bubble h3.titulo-efecto {
        /* reutiliza la animaci칩n/text-shadow definidos en .titulo-efecto */
        animation: glowMove 3s infinite alternate ease-in-out;
        /* asegurar que no herede el tama침o gigante ni el transform:scale(1.2) */
        transform: none;
        font-size: clamp(1.05rem, 1.8vw, 1.25rem); /* tama침o apropiado para h3 */
        display: block;
        color: #000000 !important;
      }

      .bubble p,
      .bubble li {
        font-size: 1rem;
        line-height: 1.6;
        margin: 0 0 8px 0;
      }

      /* listas sin n칰meros (para las burbujas que pediste) */
      .no-number {
        list-style: none;
        margin: 0 0 0.6rem 0;
        padding-left: 0;
        text-align: left;
      }
      .no-number li {
        margin-bottom: 8px;
      }

      /* Aseguramos que las listas con vi침etas tengan el padding correcto y las vi침etas junto al texto */
      .bubble ul,
      .bubble ol {
        margin: 0 0 0.6rem 0;
        padding-left: 1.25rem;         /* espacio para que la vi침eta quede alineada con el texto */
        list-style-position: outside;  /* vi침etas fuera del contenido (est치ndar) */
        text-align: left;              /* asegurar que el texto quede a la izquierda */
      }

      .bubble ul li,
      .bubble ol li {
        margin-bottom: 8px;
      }

      /* ----- AJUSTE SOLICITADO: M츼S ESPACIO ENTRE LOS PUNTOS EN LA BURBUJA 2 ----- */
      /* selecciono la burbuja cuyo aria-labelledby coincide con b2-title y aumento el gap entre li */
      .bubble[aria-labelledby="b2-title"] ul li {
        margin-bottom: 20px; /* aumentado para mayor separaci칩n */
      }

      .imagen-destacada img {
        display: block;
        max-width: 95%;
        height: auto;
        margin: 18px auto;
      }

      h2.titulo-efecto {
        margin: 18px 0;
      }

      /* responsive: pasar a 2 columnas y luego 1 */
      @media (max-width: 980px) {
        .bubbles-grid { grid-template-columns: repeat(2, 1fr); }
      }
      @media (max-width: 680px) {
        .bubbles-grid { grid-template-columns: 1fr; }
      }

      /* ===========================
         CORNER HAMBURGER (a침adido igual que en COMPONENTES)
         - bot칩n peque침o en esquina superior derecha
         - al click abre men칰 interactivo igual al de INICIO
         =========================== */

      .corner-hamburger-btn {
        position: fixed;
        top: 12px;
        right: 12px;
        z-index: 12000;
        width: 42px;
        height: 42px;
        border-radius: 8px;
        background: rgba(0,0,0,0.75);
        display: flex;
        align-items: center;
        justify-content: center;
        box-shadow: 0 6px 18px rgba(0,0,0,0.45);
        border: 2px solid rgba(178,102,255,0.9);
        cursor: pointer;
      }

      .corner-hamburger-btn .bar,
      .corner-hamburger-btn .bar::before,
      .corner-hamburger-btn .bar::after {
        display: block;
        width: 22px;
        height: 3px;
        background: #fff;
        border-radius: 2px;
        position: relative;
      }
      .corner-hamburger-btn .bar::before,
      .corner-hamburger-btn .bar::after {
        content: "";
        position: absolute;
        left: 0;
      }
      .corner-hamburger-btn .bar::before { top: -7px; }
      .corner-hamburger-btn .bar::after  { top: 7px; }

      .corner-hamburger-btn[aria-expanded="true"] .bar {
        background: transparent;
      }
      .corner-hamburger-btn[aria-expanded="true"] .bar::before {
        transform: translateY(7px) rotate(45deg);
      }
      .corner-hamburger-btn[aria-expanded="true"] .bar::after {
        transform: translateY(-7px) rotate(-45deg);
      }

      .corner-nav {
        position: fixed;
        top: calc(12px + 42px + 8px);
        right: 12px;
        z-index: 11999;
        min-width: 200px;
        max-width: calc(100% - 32px);
        background: #fff8dc;
        border: 3px solid rgba(178,102,255,0.95);
        border-radius: 10px;
        box-shadow: 0 12px 34px rgba(0,0,0,0.25);
        padding: 6px;
        transform-origin: top right;
        transform: scaleY(0);
        opacity: 0;
        pointer-events: none;
        transition: transform 0.18s ease, opacity 0.18s ease;
        overflow: hidden;
      }

      .corner-nav.open {
        transform: scaleY(1);
        opacity: 1;
        pointer-events: auto;
      }

      .corner-nav ul {
        list-style: none;
        margin: 0;
        padding: 4px 0;
      }

      .corner-nav li {
        border-bottom: 2px solid rgba(128,0,255,0.22);
      }
      .corner-nav li:last-child { border-bottom: none; }

      .corner-nav a {
        display: block;
        padding: 12px 16px;
        text-decoration: none;
        font-family: 'Minecraft', sans-serif;
        text-transform: uppercase;
        font-size: 1rem;
        color: #ffffff;
        text-shadow:
          0 0 12px rgba(204,102,255,1),
          0 0 28px rgba(128,0,255,0.95);
        background: transparent;
        text-align: left;
      }

      @media (max-width: 360px) {
        .corner-hamburger-btn { top: 10px; right: 10px; width: 40px; height: 40px; }
        .corner-nav { right: 8px; top: calc(10px + 40px + 6px); min-width: 180px; }
      }

      /* ==========================
         ADICION: BOT칍N QR + MODAL QR (igual que en COMPONENTES)
         ========================== */

      .corner-qr-btn {
        position: fixed;
        top: calc(12px + 42px + 8px); /* justo debajo del hamburger */
        right: 12px;
        z-index: 12000;
        width: 42px;
        height: 42px;
        border-radius: 8px;
        background: rgba(0,0,0,0.75);
        display: flex;
        align-items: center;
        justify-content: center;
        box-shadow: 0 6px 18px rgba(0,0,0,0.45);
        border: 2px solid rgba(178,102,255,0.9);
        cursor: pointer;
      }

      .corner-qr-btn svg { display:block; width:20px; height:20px; }

      .corner-qr-btn[aria-expanded="true"] { outline: 2px solid rgba(128,0,255,0.18); }

      .qr-modal {
        position: fixed;
        inset: 0;
        display: none;
        align-items: center;
        justify-content: center;
        background: rgba(0,0,0,0.55);
        z-index: 12100;
        padding: 18px;
      }
      .qr-modal.open { display: flex; }

      .qr-content {
        background: #fff;
        padding: 14px;
        border-radius: 12px;
        box-shadow: 0 12px 40px rgba(0,0,0,0.45);
        border: 4px solid rgba(178,102,255,0.95);
        max-width: 92%;
        width: 420px;
        box-sizing: border-box;
        text-align: center;
      }

      .qr-content img {
        width: 100%;
        height: auto;
        display: block;
      }

      .qr-close {
        margin-top: 10px;
        display: inline-block;
        padding: 8px 12px;
        background: #000;
        color: #fff;
        border-radius: 8px;
        text-decoration: none;
        font-family: 'Minecraft', sans-serif;
        text-transform: uppercase;
      }

      @media (max-width:460px) {
        .qr-content { width: 320px; }
      }

    </style>
</head>
<body style="
    margin:0;
    font-family:'Segoe UI', Tahoma, sans-serif;
    background-image:url('imagenes/fondo\ 2.png');
    background-repeat:no-repeat;
    background-size:cover;
    background-position:center center;
    background-attachment:fixed;
">
    <nav>
        <a href="INICIO.html" class="inicio-efecto">Inicio</a>
    </nav>

    <!-- CORNER HAMBURGER: bot칩n peque침o en esquina superior derecha -->
    <button class="corner-hamburger-btn" id="cornerHamburger" aria-expanded="false" aria-controls="cornerNav" aria-label="Abrir men칰">
      <span class="bar" aria-hidden="true"></span>
    </button>

    <!-- BOT칍N QR (debajo del hamburger) -->
    <button class="corner-qr-btn" id="cornerQrBtn" aria-expanded="false" aria-controls="qrModal" aria-label="Mostrar QR">
      <svg viewBox="0 0 24 24" aria-hidden="true" focusable="false">
        <rect x="2" y="2" width="6" height="6" fill="#fff"></rect>
        <rect x="10" y="2" width="4" height="4" fill="#fff"></rect>
        <rect x="2" y="10" width="4" height="4" fill="#fff"></rect>
        <rect x="16" y="2" width="6" height="6" fill="#fff"></rect>
        <rect x="16" y="10" width="6" height="6" fill="#fff"></rect>
        <rect x="10" y="16" width="6" height="6" fill="#fff"></rect>
      </svg>
    </button>

    <!-- men칰 interactivo replicando el contenido del INICIO -->
    <nav id="cornerNav" class="corner-nav" role="navigation" aria-label="Men칰 principal">
      <ul>
        <li><a href="INTEGRANTES.html">Integrantes</a></li>
        <li><a href="COMPONENTES.html">Componentes</a></li>
        <li><a href="funcionamiento.html">Funcionamiento</a></li>
        <li><a href="PROCESO.html">Proceso</a></li>
        <li><a href="FORMULARIO.html">Formulario</a></li>
      </ul>
    </nav>

    <!-- MODAL con la im치gen del QR -->
    <div id="qrModal" class="qr-modal" role="dialog" aria-modal="true" aria-hidden="true" aria-label="C칩digo QR">
      <div class="qr-content" role="document">
        <img src="imagenes/cerradura_qr.png" alt="QR - cerradura-digital (escanea para abrir sitio)">
        <a href="#" class="qr-close" id="qrClose">Cerrar</a>
      </div>
    </div>

    <!-- FUNCIONAMIENTO -->
    <section id="Funcionamiento" class="bloque">
        <h2 class="titulo-efecto">Funcionamiento del Sistema</h2>

        <div class="columna-libro">

          <!-- mantengo la frase descriptiva principal (misma informaci칩n) -->
          <p>
            La cerradura digital controla el acceso sin llave f칤sica mediante tecnolog칤as electr칩nicas, sensores y software.
          </p>

          <!-- GRID DE BURBUJAS: Autenticacion / Metodos / Etapas -->
          <div class="bubbles-grid">

            <!-- BURBUJA 1: Autenticacion - Apertura - Seguridad (sin numeros) -->
            <div class="bubble" aria-labelledby="b1-title">
              <h3 id="b1-title" class="titulo-efecto">Autenticacion 췅 Apertura  Seguridad</h3>
              <ul class="no-number">
                <li><strong>Autenticaci칩n:</strong> el usuario debe usar al menos dos m칠todos: Huella digital, Tarjeta RFID o C칩digo num칠rico.</li>
                <li><strong>Apertura:</strong> la caja se abre solo si dos m칠todos se validan correctamente.</li>
                <li><strong>Seguridad:</strong> el sistema rechaza accesos incorrectos o incompletos y puede registrar intentos fallidos.</li>
              </ul>
            </div>

            <!-- BURBUJA 2: Metodos comunes -->
            <div class="bubble" aria-labelledby="b2-title">
              <h3 id="b2-title" class="titulo-efecto">Metodos comunes de autenticacion</h3>
              <ul>
                <li>C칩digo num칠rico (clave numerica mediante un Keypad 4x4).</li>
                <li>Sensor biom칠trico (huella u otro reconocimiento f칤sico).</li>
                <li>RFID (tarjetas o llaveros).</li>
              </ul>
            </div>

            <!-- BURBUJA 3: Funcionamiento en tres etapas (sin numeros) -->
            <div class="bubble" aria-labelledby="b3-title">
              <h3 id="b3-title" class="titulo-efecto">Funcionamiento en tres etapas</h3>
              <ul class="no-number">
                <li><strong>Entrada:</strong> el usuario introduce las credenciales.</li>
                <li><strong>Procesador:</strong> un microcontrolador verifica las credenciales compar치ndolas con los datos guardados.</li>
                <li><strong>Cierre/Apertura:</strong> se activa el mecanismo de apertura si la autenticaci칩n es v치lida.</li>
              </ul>
            </div>

          </div> <!-- /.bubbles-grid -->

        </div>
    </section>

    <!-- ESQUEMA -->
    <section class="imagen-destacada bloque">
        <h2 class="titulo-efecto">Esquema del Sistema</h2>
        <img src="imagenes/ESQUEMA.jpeg" alt="Esquema del sistema de seguridad">
    </section>

    <script>
      (function(){
        const btn = document.getElementById('cornerHamburger');
        const nav = document.getElementById('cornerNav');

        if (!btn || !nav) return;

        function setOpen(open) {
          btn.setAttribute('aria-expanded', String(open));
          nav.classList.toggle('open', open);
        }

        btn.addEventListener('click', function(e){
          const expanded = this.getAttribute('aria-expanded') === 'true';
          setOpen(!expanded);
        });

        // Cerrar con Escape
        document.addEventListener('keydown', function(e){
          if (e.key === 'Escape') {
            setOpen(false);
            btn.focus();
          }
        });

        // Cerrar al click fuera
        document.addEventListener('click', function(e){
          if (!nav.classList.contains('open')) return;
          if (e.target.closest('#cornerNav') || e.target.closest('#cornerHamburger')) return;
          setOpen(false);
        });
      })();
    </script>

    <!-- JS para el bot칩n QR / modal QR (id칠ntico al que pediste) -->
    <script>
      (function(){
        const qrBtn = document.getElementById('cornerQrBtn');
        const qrModal = document.getElementById('qrModal');
        const qrClose = document.getElementById('qrClose');

        if (!qrBtn || !qrModal) return;

        function setQrOpen(open) {
          qrBtn.setAttribute('aria-expanded', String(open));
          if (open) {
            qrModal.classList.add('open');
            qrModal.setAttribute('aria-hidden', 'false');
            // mover foco al modal para accesibilidad
            qrClose.focus();
          } else {
            qrModal.classList.remove('open');
            qrModal.setAttribute('aria-hidden', 'true');
            qrBtn.focus();
          }
        }

        qrBtn.addEventListener('click', function(e){
          const isOpen = this.getAttribute('aria-expanded') === 'true';
          setQrOpen(!isOpen);
        });

        // cerrar cuando se pulsa el bot칩n Cerrar dentro del modal
        qrClose.addEventListener('click', function(e){
          e.preventDefault();
          setQrOpen(false);
        });

        // cerrar con escape
        document.addEventListener('keydown', function(e){
          if (e.key === 'Escape') setQrOpen(false);
        });

        // cerrar al hacer click fuera del contenido
        qrModal.addEventListener('click', function(e){
          if (e.target === qrModal) setQrOpen(false);
        });
      })();
    </script>
</body>
</html>

